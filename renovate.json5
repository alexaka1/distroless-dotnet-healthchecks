{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:best-practices',
    'security:openssf-scorecard',
    ':automergePr',
    ':automergePatch',
    ':automergeDigest',
    ':automergeRequireAllStatusChecks',
    ':rebaseStalePrs',
    ':pinDependencies',
    'security:minimumReleaseAgeNpm',
    'customManagers:githubActionsVersions',
  ],
  baseBranchPatterns: [
    '$default',
    '/^beta$/',
  ],
  labels: [
    'dependencies',
  ],
  packageRules: [
    {
      matchDatasources: [
        'npm',
        'node-version',
      ],
      addLabels: [
        'javascript',
      ],
    },
    {
      matchDatasources: [
        'nuget',
      ],
      addLabels: [
        '.NET',
      ],
    },
    {
      matchDatasources: [
        'docker',
      ],
      addLabels: [
        'docker',
      ],
    },
    {
      groupName: '.NET Core (Nightly) Docker containers',
      matchDatasources: [
        'docker',
      ],
      matchPackageNames: [
        'mcr.microsoft.com/dotnet/nightly/**',
      ],
    },
    {
      description: 'Skip major upgrades for .NET',
      matchPackageNames: [
        'mcr.microsoft.com/dotnet/**',
        'mcr.microsoft.com/dotnet/nightly/**',
      ],
      matchUpdateTypes: [
        'major',
      ],
      matchDatasources: [
        'docker',
      ],
      enabled: false,
    },
  ],
  ignorePaths: [
    '**/node_modules/**',
    '**/bower_components/**',
    '**/vendor/**',
    '**/examples/**',
    '**/__tests__/**',
    '**/tests/**',
    '**/__fixtures__/**',
  ],
  customManagers: [
    {
      customType: 'regex',
      description: 'Update pnpm in devcontainer',
      managerFilePatterns: [
        '/(^|/|\\.)devcontainer.json$/',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>[a-z-]+?)(?: depName=(?<depName>.+?))? packageName=(?<packageName>.+?)(?: versioning=(?<versioning>[a-z-]+?))?\\s+"(?:.*)": "(?<currentValue>.+?)"\\s',
      ],
    },
    {
      customType: 'regex',
      description: 'Update Qodana linter in CI/CD',
      managerFilePatterns: [
        '/(^|/|\\.)code-quality.ya?ml$/',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>[a-z-]+?)(?: depName=(?<depName>.+?))? packageName=(?<packageName>.+?)(?: versioning=(?<versioning>[a-z-]+?))?\\s+.*jetbrains/qodana-cdnet:(?<currentValue>[\\w][\\w.-]{0,127})(?:@(?<currentDigest>sha256:[a-f0-9]{64}))?(?:,|\\s)',
      ],
    },
    {
      "customType": "regex",
      "description": "Update sst/opencode GitHub Action",
      "managerFilePatterns": [
        "/(^|/)\\.github\\/workflows\\/.*\\.ya?ml$/"
      ],
      "matchStrings": [
        "(?<indentation>\\s*)uses:\\s*sst\\/opencode\\/github@(?:(?<currentDigest>[0-9a-f]{40})|(?<currentValue>[^\\s#]+))(?:\\s*#\\s*(?<tagValue>github-v[0-9]+\\.[0-9]+\\.[0-9]+))?"
      ],
      "depNameTemplate": "sst/opencode",
      "datasourceTemplate": "github-tags",
      "depTypeTemplate": "action",
      "extractVersionTemplate": "^github-v?(?<version>\\d+\\.\\d+\\.\\d+)$",
      "versioningTemplate": "semver",
      "autoReplaceStringTemplate": "{{indentation}}uses: {{depName}}/github@{{#if newDigest}}{{newDigest}}{{else}}{{newValue}}{{/if}}{{#if newValue}} # {{newValue}}{{else}}{{#if tagValue}} # {{tagValue}}{{/if}}{{/if}}"
    }
  ],
}
